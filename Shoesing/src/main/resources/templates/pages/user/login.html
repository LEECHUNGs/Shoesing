<!DOCTYPE html>
<html
  lang="en"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{fragments/layouts/main}"
>
  <head>
    <link th:href="@{/css/pages/user/login.css}" rel="stylesheet" />
  </head>

  <th:block layout:fragment="main">
    <!-- if not 로그인 -->
    <th:block th:if="${session.loginUser == null}">
      <div class="login-form">
        <div class="tab-main">
          <nav class="tab-title">
            <div class="nav nav-tabs" id="nav-tab" role="tablist">
              <button
                class="nav-link active"
                id="nav-home-tab"
                data-bs-toggle="tab"
                data-bs-target="#nav-home"
                type="button"
                role="tab"
                aria-controls="nav-home"
                aria-selected="true"
              >
                로그인
              </button>
              <button
                class="nav-link"
                id="nav-contact-tab"
                data-bs-toggle="tab"
                data-bs-target="#nav-contact"
                type="button"
                role="tab"
                aria-controls="nav-contact"
                aria-selected="false"
              >
                비회원 조회
              </button>
            </div>
          </nav>
          <div class="tab-content" id="nav-tabContent">
            <div
              class="tab-pane fade show active"
              id="nav-home"
              role="tabpanel"
              aria-labelledby="nav-home-tab"
            >
              <!-- 회원 로그인-->
              <form
                action="/user/login"
                method="post"
                id="loginPageForm"
                class="loginForm"
              >
                <div class="form-floating loginInput">
                  <input
                    type="text"
                    class="form-control"
                    id="loginPageId"
                    name="userId"
                    placeholder="아이디"
                  />
                  <label for="loginPageId">아이디</label>
                </div>

                <div class="form-floating loginInput">
                  <input
                    type="password"
                    class="form-control"
                    id="loginPagePw"
                    name="userPw"
                    placeholder="비밀번호"
                  />
                  <label for="loginPagePw">비밀번호</label>
                </div>
                <div class="loginInput">
                  <label class="saveId"
                    ><input
                      type="checkbox"
                      name="saveId"
                      class="checkIdCheck"
                    />아이디 저장</label
                  >
                </div>
                <div class="loginInput">
                  <button class="loginBtn">로그인</button>
                </div>
              </form>
              <div class="loginInput">
                <form class="loginLink">
                  <a href="/user/findId">아이디 찾기</a>
                  <span>|</span>
                  <a href="/user/findPw">비밀번호 찾기</a>
                  <span>|</span>
                  <a href="/user/agreement">회원가입</a>
                </form>
              </div>
            </div>

            <div
              class="tab-pane fade"
              id="nav-contact"
              role="tabpanel"
              aria-labelledby="nav-contact-tab"
            >
              <!-- 비회원 로그인 -->
              <form action="/user/loginAnon" method="post" class="checkOrderForm">
                <div class="form-floating loginInput">
                  <input
                    type="text"
                    class="form-control"
                    id="floatingOrderNo"
                    name="userId"
                    placeholder="주문번호 숫자 13자리를 입력해주세요"
                  />
                  <label for="floatingOrderNo">주문번호 13자리</label>
                </div>

                <div class="form-floating loginInput">
                  <input
                    type="password"
                    class="form-control"
                    id="floatingPassword"
                    name="userPw"
                    placeholder="비밀번호"
                  />
                  <label for="floatingPassword">비밀번호</label>
                </div>
                <div class="loginInput">
                  <button type="submit" class="loginBtn">주문 조회</button>
                </div>
                <div class="loginInput">
                  <b class="loginLink"
                    >아직 회원이 아니신가요?
                    <a class="signupLink" href="/user/agreements"
                      >회원가입</a
                    >
                  </b>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </th:block>

    <!-- if 로그인 -->
    <th:block th:if="${session.loginUser != null}">
      이미 로그인된 회원입니다
    </th:block>
  </th:block>
</html>
